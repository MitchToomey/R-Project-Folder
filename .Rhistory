ggplot(aes(x=factor(carrier), y= , fill=on_off_time)) +
geom_col(position = "fill", stat = "identity") +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight %>%
group_by(carrier) %>%
filter(dest != "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
ggplot(aes(x=carrier, y= , fill=on_off_time)) +
geom_bar(position = "fill", stat = "identity") +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight %>%
group_by(carrier) %>%
filter(dest != "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
ggplot(aes(x=carrier, fill=on_off_time)) +
geom_bar(position = "fill", width = 0.2) +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
ggplot(aes(x=carrier, fill=on_off_time)) +
geom_bar(position = "fill", width = 0.2) +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
ggplot(aes(x=carrier, fill=on_off_time)) +
geom_bar(position = "fill") +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
View(nyc_flight)
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
ggplot(aes(x=carrier, fill=on_off_time)) +
geom_bar(position = "fill") +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight <- recode(nyc_flight, 9E = "Endeavor Air Inc.",
nyc_flight <- recode(nyc_flight, "9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southweat Airlines Co.")
nyc_flight <- recode(nyc_flight, "9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southweat Airlines Co.")
nyc_flight <- as_tibble(nyc_flight)
nyc_flight <- recode(nyc_flight, "9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southweat Airlines Co.")
nyc_flight <- recode(nyc_flight, 9E = "Endeavor Air Inc.",
nyc_flight <- recode(nyc_flight, "9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southweat Airlines Co.")
nyc_flight <- rename(nyc_flight, "9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
nyc_flight <- replace(nyc_flight, "9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
nyc_flight <- replace(nyc_flight, "9E", "DL", "EV", "FL", "MQ", "UA", "WN",
"Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co.")
nyc_flight <- replace(nyc_flight, 9E, DL, EV, FL, MQ, UA, WN,
nyc_flight <- replace(nyc_flight, "9E", DL, EV, FL, MQ, UA, WN,
"Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co.")
nyc_flight <- recode(nyc_flight, "9E", DL, EV, FL, MQ, UA, WN,
"Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co.")
library(here)
library(tidyverse)
library(dplyr)
library(hrbrthemes)
library(MASS)
library(lattice)
college_data <- read_csv(here("Data", "College Study Data (Clean).csv"))
johnson_elem <- read_csv(here("Data", "Johnson Elementary ELA Project_Cleaned.csv"))
college_data
# means grouped by gender
college_data %>%
group_by(gender) %>%
summarize(scale1_mean = mean(scale1, na.rm = TRUE),
scale2_mean = mean(scale2, na.rm = TRUE))
# means grouped by class
college_data %>%
group_by(class) %>%
summarize(scale1_mean = mean(scale1, na.rm = TRUE),
scale2_mean = mean(scale2, na.rm = TRUE))
# means groups by class x gender
college_data %>%
group_by(class, gender) %>%
summarize(scale1_mean = mean(scale1, na.rm = TRUE),
scale2_mean = mean(scale2, na.rm = TRUE))
# subset class by freshman and senior
boxplot(gpa ~ class, data = college_data,
subset = class %in% c("freshman", "senior"))
library(readxl)
johnson_elem <- read_excel(here("Data", "Johnson Elementary ELA Project.xlsx"),
skip = 3)
johnson_elem <- rename(johnson_elem, "Room Number" = "...1")
# Fill names of room numbers, separate tardies and absences,
# put quarters into a single quarter variable using a single chain of pipes
johnson_elem <- johnson_elem %>%
fill("Room Number") %>%
separate("Tardies; Absences", into = c("Tardies", "Absences")) %>%
gather("1st Quarter", "2nd Quarter", "3rd Quarter", "4th Quarter",
key = "Quarter",
value = "Score")
# check for any problems
problems(johnson_elem)
# making sure it looks okay
johnson_elem
# writing it to a new file
write_csv(johnson_elem, here("Data", "Johnson Elementary ELA Project_Cleaned2.csv"))
johnson_elem <- read_csv(here("Data", "Johnson Elementary ELA Project_Cleaned2.csv"))
johnson_elem %>%
group_by(`Room Number`) %>%
summarize(mean(Tardies, na.rm = TRUE),
sd(Tardies, na.rm = TRUE),
min(Tardies, na.rm = TRUE),
max(Tardies, na.rm=TRUE))
johnson_elem %>%
group_by(`Room Number`) %>%
summarize(mean(Absences, na.rm = TRUE),
sd(Absences, na.rm = TRUE),
min(Absences, na.rm = TRUE),
max(Absences, na.rm=TRUE))
johnson_elem %>%
group_by(`Room Number`) %>%
summarize(count = sum(is.na(johnson_elem$Quarter)))
johnson_elem %>%
group_by(Quarter) %>%
summarize(rating = median(Score, na.rm = TRUE)) %>%
ggplot(aes(x=Quarter, y=rating)) +
geom_bar(stat = "identity") +
theme_ipsum() +
labs(x="Quarters", y="Rating")
library(readxl)
# read in the data
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
library(readxl)
# read in the data
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
nyc_flight <- replace(nyc_flight$carrier, "9E", DL, EV, FL, MQ, UA, WN,
"Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co.")
nyc_flight <- recode(nyc_flight$carrier, "9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
ggplot(aes(x=carrier, fill=on_off_time)) +
geom_bar(position = "fill") +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
library(here)
library(tidyverse)
library(dplyr)
library(hrbrthemes)
library(MASS)
library(lattice)
college_data <- read_csv(here("Data", "College Study Data (Clean).csv"))
johnson_elem <- read_csv(here("Data", "Johnson Elementary ELA Project_Cleaned.csv"))
college_data
# means grouped by gender
college_data %>%
group_by(gender) %>%
summarize(scale1_mean = mean(scale1, na.rm = TRUE),
scale2_mean = mean(scale2, na.rm = TRUE))
# means grouped by class
college_data %>%
group_by(class) %>%
summarize(scale1_mean = mean(scale1, na.rm = TRUE),
scale2_mean = mean(scale2, na.rm = TRUE))
# means groups by class x gender
college_data %>%
group_by(class, gender) %>%
summarize(scale1_mean = mean(scale1, na.rm = TRUE),
scale2_mean = mean(scale2, na.rm = TRUE))
# subset class by freshman and senior
boxplot(gpa ~ class, data = college_data,
subset = class %in% c("freshman", "senior"))
library(readxl)
johnson_elem <- read_excel(here("Data", "Johnson Elementary ELA Project.xlsx"),
skip = 3)
johnson_elem <- rename(johnson_elem, "Room Number" = "...1")
# Fill names of room numbers, separate tardies and absences,
# put quarters into a single quarter variable using a single chain of pipes
johnson_elem <- johnson_elem %>%
fill("Room Number") %>%
separate("Tardies; Absences", into = c("Tardies", "Absences")) %>%
gather("1st Quarter", "2nd Quarter", "3rd Quarter", "4th Quarter",
key = "Quarter",
value = "Score")
# check for any problems
problems(johnson_elem)
# making sure it looks okay
johnson_elem
# writing it to a new file
write_csv(johnson_elem, here("Data", "Johnson Elementary ELA Project_Cleaned2.csv"))
johnson_elem <- read_csv(here("Data", "Johnson Elementary ELA Project_Cleaned2.csv"))
johnson_elem %>%
group_by(`Room Number`) %>%
summarize(mean(Tardies, na.rm = TRUE),
sd(Tardies, na.rm = TRUE),
min(Tardies, na.rm = TRUE),
max(Tardies, na.rm=TRUE))
johnson_elem %>%
group_by(`Room Number`) %>%
summarize(mean(Absences, na.rm = TRUE),
sd(Absences, na.rm = TRUE),
min(Absences, na.rm = TRUE),
max(Absences, na.rm=TRUE))
johnson_elem %>%
group_by(`Room Number`) %>%
summarize(count = sum(is.na(johnson_elem$Quarter)))
johnson_elem %>%
group_by(Quarter) %>%
summarize(rating = median(Score, na.rm = TRUE)) %>%
ggplot(aes(x=Quarter, y=rating)) +
geom_bar(stat = "identity") +
theme_ipsum() +
labs(x="Quarters", y="Rating")
library(readxl)
# read in the data
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
nyc_flight <- recode(nyc_flight$carrier, "9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
library(readxl)
# read in the data
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
nyc_flight <- recode(nyc_flight$carrier, "9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
ggplot(aes(x=carrier, fill=on_off_time)) +
geom_bar(position = "fill") +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight <- replace(nyc_flight$carrier, "9E", DL, EV, FL, MQ, UA, WN,
"Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co.")
nyc_flight <- recode(nyc_flight$carrier, "9E", DL, EV, FL, MQ, UA, WN,
"Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co.")
nyc_flight
nyc_flight <- as_tibble(nyc_flight)
View(nyc_flight)
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
View(nyc_flight)
nyc_flight <- as_data_frame(nyc_flight)
nyc_flight <- recode(nyc_flight$carrier, "9E", DL, EV, FL, MQ, UA, WN,
"Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co.")
nyc_flight <- recode(nyc_flight$carrier, "9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
nyc_flight <- as_tibble(nyc_flight)
library(readxl)
# read in the data
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
library(readxl)
# read in the data
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
nyc_flight <- as_data_frame(nyc_flight)
nyc_flight <- recode(nyc_flight, "9E", DL, EV, FL, MQ, UA, WN,
"Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co.")
nyc_flight <- recode(nyc_flight, c("9E", DL, EV, FL, MQ, UA, WN),
c("Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co."))
nyc_flight <- recode(nyc_flight$carrier, c("9E", DL, EV, FL, MQ, UA, WN),
c("Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co."))
nyc_flight <- recode(nyc_flight$carrier, c("9E", "DL", "EV", "FL", "MQ", "UA", "WN"),
c("Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co."))
nyc_flight <- as_tibble(nyc_flight)
View(nyc_flight)
nyc_flight
nyc_flight
nyc_char <- sample(c(nyc_flight$carrier))
nyc_flight <- recode(nyc_char, "9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
nyc_flight <- recode(nyc_char, 9E = "Endeavor Air Inc.",
nyc_flight <- recode(nyc_char, c("9E", "DL", "EV", "FL", "MQ", "UA", "WN"),
c("Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co."))
nyc_flight <- recode(nyc_char, carrier = c("9E", "DL", "EV", "FL", "MQ", "UA", "WN"),
Airlines = c("Endeavor Air Inc.", "Delta Air Lines Inc.", "ExpressJet Airlines
Inc.",
"AirTrain Airways Corporation", "Envoy Air",
"United Air Lines Inc.", "Southwest Airlines Co."))
nyc_flight <- recode("9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
nyc_flight <- c("9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
library(readxl)
# read in the data
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
nyc_flight <- c("9E" = "Endeavor Air Inc.",
DL = "Delta Air Lines Inc.",
EV = "ExpressJet Airlines Inc.",
FL = "AirTrain Airways Corporation",
MQ = "Envoy Air",
UA = "United Air Lines Inc.",
WN = "Southwest Airlines Co.")
nyc_flight <- mutate(company = recode(carrier,
"9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southwest Airlines Co."))
library(readxl)
# read in the data
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
nyc_flight <- mutate(company = recode(carrier,
"9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southwest Airlines Co."))
View(nyc_flight)
library(readxl)
# read in the data
nyc_flight <- read_excel(here("Data", "NYC Flights 2013.xlsx"))
nyc_flight <- mutate(company = recode(carrier,
"9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southwest Airlines Co."))
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
mutate(company = recode(carrier,
"9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southwest Airlines Co."))
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
mutate(company = recode(carrier,
"9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southwest Airlines Co.")) %>%
ggplot(aes(x=carrier, fill=on_off_time)) +
geom_bar(position = "fill") +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
mutate(company = recode(carrier,
"9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southwest Airlines Co.")) %>%
ggplot(aes(x=company, fill=on_off_time)) +
geom_bar(position = "fill") +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
mutate(company = recode(carrier,
"9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southwest Airlines Co.")) %>%
ggplot(aes(x=company, fill=on_off_time)) +
geom_bar(position = "fill", width = 0.2) +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
mutate(company = recode(carrier,
"9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southwest Airlines Co.")) %>%
ggplot(aes(x=company, fill=on_off_time)) +
geom_bar(position = "fill") +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
nyc_flight %>%
group_by(carrier) %>%
filter(dest == "ATL") %>%
mutate(on_off_time = (arr_delay >= 0) == TRUE | (arr_delay < 0) == FALSE) %>%
mutate(company = recode(carrier,
"9E" = "Endeavor Air Inc.",
"DL" = "Delta Air Lines Inc.",
"EV" = "ExpressJet Airlines Inc.",
"FL" = "AirTrain Airways Corporation",
"MQ" = "Envoy Air",
"UA" = "United Air Lines Inc.",
"WN" = "Southwest Airlines Co.")) %>%
ggplot(aes(x=company, fill=on_off_time)) +
geom_bar(position = "fill") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
labs(x="Airlines", y="Proportion Arrived on Time to Atlanta",
fill="on time?")
